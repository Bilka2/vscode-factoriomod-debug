{
  "name": "factoriomod-debug",
  "displayName": "Factorio Mod Debug",
  "version": "0.18.3",
  "publisher": "justarandomgeek",
  "description": "Debug Tools for developing Factorio Mods",
  "author": {
    "name": "justarandomgeek",
    "email": "justarandomgeek@live.com"
  },
  "license": "MIT",
  "keywords": [
    "multi-root ready"
  ],
  "engines": {
    "vscode": "^1.42.0"
  },
  "icon": "images/factoriomod-debug-icon.png",
  "categories": [
    "Debuggers"
  ],
  "private": true,
  "repository": {
    "type": "git",
    "url": "https://github.com/justarandomgeek/vscode-factoriomod-debug.git"
  },
  "bugs": {
    "url": "https://github.com/justarandomgeek/vscode-factoriomod-debug/issues"
  },
  "scripts": {
    "prepare": "tsc -p ./src",
    "compile": "tsc -p ./src",
    "tslint": "tslint ./src/**/*.ts",
    "watch": "tsc -w -p ./src",
    "postinstall": "node ./node_modules/vscode/bin/install",
    "vscode:prepublish": ".\\mod\\makerelease.sh",
    "package": "vsce package",
    "publish": "vsce publish"
  },
  "dependencies": {
    "archiver": "^3.1.1",
    "await-notify": "1.0.1",
    "stream-splitter": "^0.3.2",
    "vscode-debugadapter": "1.38.0-pre.4",
    "web-request": "^1.0.7"
  },
  "devDependencies": {
    "@types/node": "12.12.6",
    "typescript": "3.7.5",
    "vscode": "1.1.36",
    "vscode-debugadapter-testsupport": "1.40.0",
    "tslint": "6.0.0",
    "vsce": "1.71.0"
  },
  "main": "./out/extension",
  "activationEvents": [
    "onDebug",
    "workspaceContains:**/changelog.txt",
    "workspaceContains:**/info.json",
    "onLanguage:factorio-locale",
    "onView:factoriomods"
  ],
  "contributes": {
    "configuration":[
      {
        "title": "Factorio Mod Debug",
        "properties": {
          "factorio.portalUsername":{
            "type":"string",
            "description": "Username for Factorio Mod Portal to enable automatically uploading mods"
          },
          "factorio.portalPassword":{
            "type":"string",
            "description": "Password for Factorio Mod Portal to enable automatically uploading mods"
          }
        }
      }
    ],
    "taskDefinitions": [
      {
        "type": "factorio"
      }
    ],
    "commands": [
      {
        "command": "factorio.package",
        "category": "Factorio",
        "title": "Package Mod",
        "icon": "$(package)"
      },
      {
        "command": "factorio.publish",
        "category": "Factorio",
        "title": "Publish Mod",
        "icon": "$(repo-push)"
      }
    ],
    "views": {
      "explorer": [
        {
          "id": "factoriomods",
          "name": "Factorio Mod Packages"
        }
      ]
    },
    "menus": {
      "commandPalette": [
        {
          "command": "factorio.package",
          "when": "false"
        },
        {
          "command": "factorio.publish",
          "when": "false"
        }
      ],
      "view/item/context": [
        {
          "command": "factorio.package",
          "when": "view == factoriomods && viewItem == mod",
          "group": "navigation@1"
        },
        {
          "command": "factorio.publish",
          "when": "view == factoriomods && viewItem == mod",
          "group": "navigation@2"
        },
        {
          "command": "factorio.package",
          "when": "view == factoriomods && viewItem == mod",
          "group": "inline"
        },
        {
          "command": "factorio.publish",
          "when": "view == factoriomods && viewItem == mod",
          "group": "inline"
        }
      ]
    },
    "languages": [
      {
        "id": "factorio-locale",
        "aliases": [
          "Factorio Locale",
          "factorio-locale"
        ],
        "extensions": [
          ".cfg"
        ],
        "configuration": "./factorio-locale.language-configuration.json"
      },
      {
        "id": "factorio-changelog",
        "aliases": [
          "Factorio Changelog",
          "factorio-changelog"
        ],
        "filenames": [
          "changelog.txt"
        ],
        "configuration": "./factorio-changelog.language-configuration.json"
      }
    ],
    "grammars": [
      {
        "language": "factorio-locale",
        "scopeName": "source.factorio-locale",
        "path": "./syntax/factorio-locale.tmLanguage.json"
      },
      {
        "language": "factorio-changelog",
        "scopeName": "source.factorio-changelog",
        "path": "./syntax/factorio-changelog.tmLanguage.json"
      }
    ],
    "snippets": [
      {
        "language": "factorio-changelog",
        "path": "./snippets/factorio-changelog.json"
      }
    ],
    "jsonValidation": [
      {
        "fileMatch": "map-gen-settings.json",
        "url": "./schema/mapgen.json"
      },
      {
        "fileMatch": "map-settings.json",
        "url": "./schema/mapsettings.json"
      },
      {
        "fileMatch": "server-settings.json",
        "url": "./schema/serversettings.json"
      },
      {
        "fileMatch": "info.json",
        "url": "./schema/modinfo.json"
      },
      {
        "fileMatch": "locale/*/info.json",
        "url": "./schema/localeinfo.json"
      },
      {
        "fileMatch": "scenarios/*/description.json",
        "url": "./schema/scenario.json"
      },
      {
        "fileMatch": "campaigns/*/description.json",
        "url": "./schema/campaign.json"
      }
    ],
    "breakpoints": [
      {
        "language": "lua"
      }
    ],
    "debuggers": [
      {
        "type": "factoriomod",
        "label": "Factorio Mod Debug",
        "program": "./out/debugAdapter.js",
        "runtime": "node",
        "configurationAttributes": {
          "launch": {
            "properties": {
              "trace": {
                "type": "boolean",
                "description": "Enable logging of the Debug Adapter Protocol.",
                "default": false
              },
              "factorioPath": {
                "type": "string",
                "description": "Path to Factorio binary."
              },
              "modsPath": {
                "type": "string",
                "description": "Absolute path to Factorio mods directory."
              },
              "dataPath": {
                "type": "string",
                "description": "Absolute path to Factorio data directory."
              },
              "manageMod": {
                "type": "boolean",
                "description": "Enable automatic management of the debugadapter mod",
                "default": true
              },
              "useInstrumentMode": {
                "type": "boolean",
                "description": "Use Instrument Mode to hook all mods. Requires Factorio >= 0.18.unmerged",
                "default": false
              },
              "factorioArgs": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "default": [],
                "description": "Extra command line arguments to pass to Factorio"
              }
            }
          }
        },
        "initialConfigurations": [
          {
            "type": "factoriomod",
            "request": "launch",
            "name": "Factorio Mod Debug",
            "factorioPath": "d:/factorio/Factorio_0.18/bin/x64/factorio.exe"
          }
        ],
        "configurationSnippets": [
          {
            "label": "Factorio Mod Debug: Launch",
            "description": "A new configuration for debugging Factorio mods.",
            "body": {
              "type": "factoriomod",
              "request": "launch",
              "name": "Factorio Mod Debug",
              "factorioPath": "d:/factorio/Factorio_0.18/bin/x64/factorio.exe"
            }
          }
        ]
      }
    ]
  }
}
